<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Szczedrzyk.pl â€” Informacje lokalne</title>
  <link rel="stylesheet" href="styl.css">
  <meta name="description" content="Szczedrzyk.pl â€” aktualnoÅ›ci, historia, ogÅ‚oszenia i galeria miejscowoÅ›ci Szczedrzyk."/>
</head>
<body>
  <div class="cloud-layer"></div>

  <header class="topbar">
    <div class="brand">
      <img src="logo.png" alt="Herb Szczedrzyka" class="logo">
      <div class="brand-text">
        <h1>Szczedrzyk.pl</h1>
        <p class="tagline">WiadomoÅ›ci, historia i Å¼ycie naszej miejscowoÅ›ci</p>
      </div>
    </div>

    <div class="controls">
      <button id="contrastBtn" title="ZmieÅ„ kontrast">Kontrast</button>
      <button id="fontDec" title="Zmniejsz tekst">A-</button>
      <button id="fontInc" title="ZwiÄ™ksz tekst">A+</button>
      <button id="tryb-nocny">ğŸŒ™</button>
    </div>

    <nav class="main-nav" aria-label="GÅ‚Ã³wne menu">
      <a href="#historia">Historia</a>
      <a href="#aktualnosci">AktualnoÅ›ci</a>
      <a href="#ogloszenia">OgÅ‚oszenia</a>
      <a href="#galeria">Galeria</a>
      <a href="#mapa">Mapa</a>
      <a href="#kontakt">Kontakt</a>
    </nav>
  </header>

  <main>
    <!-- HISTORIA -->
    <section id="historia" class="card">
      <h2>ğŸ“œ Historia Szczedrzyka</h2>
      <p>
        Szczedrzyk to malownicza miejscowoÅ›Ä‡ poÅ‚oÅ¼ona w wojewÃ³dztwie opolskim, w gminie Ozimek. Pierwsze wzmianki o Szczedrzyku siÄ™gajÄ… Å›redniowiecza â€” pojawia siÄ™ w dokumentach z XIV wieku. 
      </p>
      <p>
        Przez wieki wieÅ› rozwijaÅ‚a siÄ™ jako osada rolno-leÅ›na. W ÅºrÃ³dÅ‚ach z XVIâ€“XVII wieku znajdziemy informacje o bartnictwie i maÅ‚ym przeobraÅ¼eniu rolniczym. W XIX i XX wieku powstaÅ‚y tu waÅ¼ne dla lokalnej spoÅ‚ecznoÅ›ci instytucje â€” koÅ›ciÃ³Å‚ parafialny oraz szkoÅ‚a.
      </p>
      <p>
        W XX wieku, w wyniku budowy Zbiornika Turawskiego, otoczenie wsi ulegÅ‚o zmianie â€” czÄ™Å›Ä‡ terenÃ³w rolnych zamieniÅ‚a siÄ™ w tereny rekreacyjne, a wieÅ› staÅ‚a siÄ™ atrakcyjna dla turystÃ³w i wypoczywajÄ…cych nad jeziorem.
      </p>
      <p>
        DziÅ› Szczedrzyk to spoÅ‚ecznoÅ›Ä‡ aktywna lokalnie â€” organizowane sÄ… festyny, sprzÄ…tania spoÅ‚eczne i spotkania mieszkaÅ„cÃ³w. Na tej stronie znajdziesz aktualnoÅ›ci, ogÅ‚oszenia i fotorelacje z wydarzeÅ„.
      </p>
    </section>

    <!-- AKTUALNOÅšCI -->
    <section id="aktualnosci" class="card">
      <h2>ğŸ—ï¸ AktualnoÅ›ci</h2>
      <ul class="news-list" id="newsList">
        <li><time>2025-10-09</time> â€” Nowe Å‚awki na placu zabaw zostaÅ‚y zamontowane.</li>
        <li><time>2025-10-07</time> â€” ZakoÅ„czono remont Å›wietlicy wiejskiej.</li>
        <li><time>2025-10-05</time> â€” ZbiÃ³rka dla schroniska w Ozimku.</li>
      </ul>
      <div class="news-add">
        <input id="newsTitle" placeholder="KrÃ³tka treÅ›Ä‡ aktualnoÅ›ci..." />
        <button id="addNewsBtn">Dodaj aktualnoÅ›Ä‡</button>
      </div>
    </section>

    <!-- OGÅOSZENIA -->
    <section id="ogloszenia" class="card">
      <h2>ğŸ“¢ OgÅ‚oszenia</h2>

      <ul id="lista-ogloszen" class="ogloszenia-list"></ul>

      <div class="ogloszenia-add">
        <input id="noweOgloszenie" placeholder="Wpisz treÅ›Ä‡ ogÅ‚oszenia..." />
        <button id="dodajBtn">Dodaj</button>
        <button id="clearBtn" class="danger">WyczyÅ›Ä‡ wszystkie</button>
      </div>

      <div id="powiadomienie" class="notification" aria-live="polite" role="status"></div>
    </section>

    <!-- GALERIA -->
    <section id="galeria" class="card">
      <h2>ğŸ“¸ Galeria</h2>
      <div class="galeria-grid">
        <figure><img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=1200&q=60&auto=format&fit=crop" alt="Staw i drzewa"><figcaption>Staw i okolica</figcaption></figure>
        <figure><img src="https://images.unsplash.com/photo-1506917982574-5e839b7d1c6c?w=1200&q=60&auto=format&fit=crop" alt="Droga przez las"><figcaption>Droga przez las</figcaption></figure>
        <figure><img src="https://images.unsplash.com/photo-1508873696983-2dfd5898f8e8?w=1200&q=60&auto=format&fit=crop" alt="KoÅ›ciÃ³Å‚"><figcaption>KoÅ›ciÃ³Å‚ (ilustracja)</figcaption></figure>
      </div>
    </section>

    <!-- MAPA -->
    <section id="mapa" class="card">
      <h2>ğŸ—ºï¸ Mapa</h2>
      <div class="map-wrap">
        <iframe
          title="Mapa Szczedrzyk"
          src="https://www.google.com/maps?q=Szczedrzyk&output=embed"
          loading="lazy"></iframe>
      </div>
    </section>

    <!-- KONTAKT -->
    <section id="kontakt" class="card">
      <h2>ğŸ“¬ Kontakt</h2>

      <form id="kontaktForm" class="contact-form">
        <label>
          ImiÄ™
          <input type="text" name="name" required placeholder="Twoje imiÄ™">
        </label>
        <label>
          E-mail
          <input type="email" name="email" required placeholder="twÃ³j@adres.email">
        </label>
        <label>
          WiadomoÅ›Ä‡
          <textarea name="message" required placeholder="TreÅ›Ä‡ wiadomoÅ›ci..."></textarea>
        </label>
        <div class="form-actions">
          <button type="submit">WyÅ›lij wiadomoÅ›Ä‡</button>
        </div>
      </form>

      <div class="contact-info">
        <p><strong>Adres redakcji:</strong> Szczedrzyk (gmina Ozimek)</p>
        <p><strong>E-mail:</strong> kontakt@szczedrzyk.pl (przykÅ‚adowy)</p>
      </div>
    </section>

    <!-- KOMENTARZE (Utterances) -->
    <section id="komentarze" class="card">
      <h2>ğŸ’¬ Komentarze</h2>
      <p>Do komentowania uÅ¼ywany jest system Utterances (logowanie przez GitHub).</p>
      <div id="utterances-thread">
        <script src="https://utteranc.es/client.js"
          repo="Bedrox55/szczedrzyk"
          issue-term="pathname"
          theme="github-light"
          crossorigin="anonymous"
          async>
        </script>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <p>Â© 2025 Szczedrzyk.pl | Strona stworzona przez Gustawa OgÃ³rczaka przy pomocy ChatGPT</p>
  </footer>

  <!-- SCRIPTS -->
  <script>
    // --- Tryb nocny ///
    const trybBtn = document.getElementById('tryb-nocny');
    trybBtn.addEventListener('click', () => {
      document.body.classList.toggle('noc');
      trybBtn.textContent = document.body.classList.contains('noc') ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('trybNocny', document.body.classList.contains('noc'));
    });
    // restore
    if (localStorage.getItem('trybNocny') === 'true') {
      document.body.classList.add('noc');
      trybBtn.textContent = 'â˜€ï¸';
    }

    // --- Kontrast i rozmiar czcionki ///
    const contrastBtn = document.getElementById('contrastBtn');
    const fontInc = document.getElementById('fontInc');
    const fontDec = document.getElementById('fontDec');
    contrastBtn.addEventListener('click', () => {
      document.body.classList.toggle('high-contrast');
      localStorage.setItem('highContrast', document.body.classList.contains('high-contrast'));
    });
    if (localStorage.getItem('highContrast') === 'true') document.body.classList.add('high-contrast');

    const applyFontSize = (v) => { document.documentElement.style.fontSize = v + 'px'; localStorage.setItem('fontSize', v); };
    fontInc.addEventListener('click', () => applyFontSize((+localStorage.getItem('fontSize') || 16) + 1));
    fontDec.addEventListener('click', () => applyFontSize((+localStorage.getItem('fontSize') || 16) - 1));
    if (localStorage.getItem('fontSize')) document.documentElement.style.fontSize = localStorage.getItem('fontSize') + 'px';

    // --- OGÅOSZENIA (localStorage) ///
    const listaEl = document.getElementById('lista-ogloszen');
    const stored = JSON.parse(localStorage.getItem('ogloszeniaSzczedrzyk') || '[]');
    stored.forEach(t => {
      const li = document.createElement('li'); li.textContent = t; listaEl.appendChild(li);
    });

    document.getElementById('dodajBtn').addEventListener('click', () => {
      const input = document.getElementById('noweOgloszenie');
      const txt = input.value.trim();
      if (!txt) return;
      const li = document.createElement('li'); li.textContent = txt; listaEl.appendChild(li);
      stored.push(txt); localStorage.setItem('ogloszeniaSzczedrzyk', JSON.stringify(stored));
      showNotif('âœ… Nowe ogÅ‚oszenie dodane');
      input.value = '';
    });

    document.getElementById('clearBtn').addEventListener('click', () => {
      if (!confirm('Czy na pewno chcesz usunÄ…Ä‡ wszystkie ogÅ‚oszenia?')) return;
      localStorage.removeItem('ogloszeniaSzczedrzyk');
      listaEl.innerHTML = ''; showNotif('ğŸ—‘ OgÅ‚oszenia usuniÄ™te');
    });

    function showNotif(txt) {
      const p = document.getElementById('powiadomienie');
      p.textContent = txt; p.style.display = 'block';
      setTimeout(()=> p.style.display = 'none', 3000);
      // sprÃ³buj powiadomienia systemowego (opcjonalnie)
      if ("Notification" in window && Notification.permission === "granted") {
        new Notification(txt);
      } else if ("Notification" in window && Notification.permission !== "denied") {
        Notification.requestPermission().then(permission => { if (permission === "granted") new Notification(txt); });
      }
    }

    // --- DODAWANIE AKTUALNOÅšCI (lokalnie) ///
    document.getElementById('addNewsBtn').addEventListener('click', () => {
      const val = document.getElementById('newsTitle').value.trim();
      if (!val) return alert('Wpisz treÅ›Ä‡ aktualnoÅ›ci');
      const ul = document.getElementById('newsList');
      const li = document.createElement('li');
      const now = new Date().toISOString().slice(0,10);
      li.innerHTML = '<time>'+now+'</time> â€” ' + val;
      ul.prepend(li);
      document.getElementById('newsTitle').value = '';
    });

    // --- FORMULARZ KONTAKTOWY (tylko front-end) ///
    document.getElementById('kontaktForm').addEventListener('submit', (e) => {
      e.preventDefault();
      alert('DziÄ™kujemy! Twoja wiadomoÅ›Ä‡ zostaÅ‚a przyjÄ™ta (przykÅ‚adowa funkcja).');
      e.target.reset();
    });

    // --- ATTACH UTTERANCES fallback (jeÅ›li client.js nie wczyta siÄ™) ///
    // Utterances script jest w HTML; jeÅ¼eli chcesz zmieniÄ‡ temat na ciemny w trybie nocnym:
    (function updateUtterancesTheme() {
      const iframe = document.querySelector('iframe.utterances-frame');
      if (!iframe) return;
      iframe.onload = () => {
        try {
          iframe.contentWindow.postMessage({ type: 'set-theme', theme: document.body.classList.contains('noc') ? 'github-dark' : 'github-light' }, 'https://utteranc.es');
        } catch(e){/* ignore */}
      };
    })();
  </script>
</body>
</html>
